(self.webpackChunkti_rex_core=self.webpackChunkti_rex_core||[]).push([[336],{74366:(e,t,r)=>{"use strict";r.r(t),r.d(t,{TestingHelpers:()=>Jt});var n={};r.r(n),r.d(n,{getFullRexCloudAgentModuleSpies:()=>be,getRexCloudAgentModuleSpies:()=>ge,installCloudAgent:()=>ye,mockInstallWizard:()=>fe,uninstallCloudAgent:()=>ve});var o={};r.r(o),r.d(o,{createAppProps:()=>Ce});var i={};r.r(i),r.d(i,{PromiseReplacementTracker:()=>Ge,getPromiseReplacement:()=>Me,restorePromise:()=>Ve});var a={};r.r(a),r.d(a,{cleanupPromiseSyncronization:()=>We,getActivePromiseIndicies:()=>qe,setupPromiseSyncronization:()=>Ye,waitForPromisesToResolve:()=>Xe,waitForPromisesToResolvePromise:()=>Be});var u={};r.r(u),r.d(u,{cleanupFakeServer:()=>Mt,getFakeServerRequests:()=>Vt,setupFakeServer:()=>Rt});var s={};r.r(s),r.d(s,{updateUrlForTesting:()=>Gt});var c={};r.r(c),r.d(c,{clearCaches:()=>Ht});var l=r(15270),f=r(96486),d=r(46234);function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b(n.key),n)}}function g(e,t,r){return(t=b(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===p(t)?t:String(t)}var m=[{name:"CC1310 Launchpad",id:"1"},{name:"MSP430F5969"},{},{name:"MSP-EXP432P401R LaunchPad rev 2.0",id:"2"}],h=m.length-1,P=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),g(this,"options",void 0),g(this,"detectedCount",h),g(this,"listeners",{attach:[],detach:[],progress:[]}),this.options=t,Promise.resolve().then((function(){return new Promise((function(e,t){return r.options.attach&&setTimeout((function(){r.detectedCount++,r.fireEvent("attach")}),r.options.attach),r.options.detach&&setTimeout((function(){r.detectedCount--,r.fireEvent("detach")}),r.options.detach),e()}))})).catch((function(e){return console.error(e)}))}var t,r;return t=e,r=[{key:"filesNeeded",value:function(){return new Promise(function(e,t){return this.options.errorFilesNeeded?t(new Error("host communication error")):e(!!this.options.filesNeeded)}.bind(this))}},{key:"addListener",value:function(e,t){this.listeners[e]&&this.listeners[e].push(t)}},{key:"removeListener",value:function(e,t){this.listeners[e]&&f.pull(this.listeners[e],t)}},{key:"detectDebugProbes",value:function(){return new Promise(function(e,t){var r;if(this.options.errorDetectDebugProbes)return t(new Error("host communication error"));if(this.options.filesNeeded){var n;function i(){return++r,a}function a(){return r<5?(this.fireEvent("progress",{name:"Additional files are needed",subActivity:"path/file".concat(r),percent:20*r}),Promise.resolve((0,d.g)(this.options.filesNeeded)).then((function(e){try{return i}catch(e){return t(e)}}),t)):[1]}return r=0,(n=function(e){for(;e;){if(e.then)return void e.then(n,t);try{if(e.pop){if(e.length)return e.pop()?u.call(this):e;e=i}else e=e.call(this)}catch(e){return t(e)}}}.bind(this))(a);function u(){return this.fireEvent("progress",{name:"Additional files are needed",subActivity:"done",isComplete:!0,percent:100}),o.call(this)}}function o(){return e({probes:[{connectionXml:"probe0",id:0},{connectionXml:"probe1",id:1},{connectionXml:"probe2",id:2},{connectionXml:"probe3",id:3}].slice(0,this.detectedCount)})}return o.call(this)}.bind(this))}},{key:"detectDeviceWithProbe",value:function(e){return new Promise(function(t,r){return this.options.errorDetectDeviceWithProbe?r(new Error("host communication error")):t(m[e.id])}.bind(this))}},{key:"fireEvent",value:function(e,t){if(this.listeners[e]){var r,n=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}(this.listeners[e]);try{for(n.s();!(r=n.n()).done;)(0,r.value)(t)}catch(e){n.e(e)}finally{n.f()}}}}],r&&v(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),w=r(86767);function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){O(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function T(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,E(n.key),n)}}function O(e,t,r){return(t=E(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E(e){var t=function(e,t){if("object"!==I(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==I(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===I(t)?t:String(t)}var S=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),O(this,"triggerEvent",void 0),O(this,"logger",void 0),O(this,"tasks",{}),O(this,"progressIdCounter",new w.A),O(this,"promises",{}),O(this,"closed",!1),this.triggerEvent=t,this.logger=r}var t,r;return t=e,r=[{key:"close",value:function(){this.closed=!0}},{key:"getProgress",value:function(){return D({},this.tasks)}},{key:"clearTaskProgress",value:function(e){if(!this.tasks[e])throw new Error("Trying to update a non-existent progress");if(!this.tasks[e].isComplete)throw new Error("Trying to clear incomplete progress");delete this.tasks[e],delete this.promises[e],this.triggerEvent("OnProgressUpdated",this.getProgress())}},{key:"createProgressTask",value:function(e,t){var r=this,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.progressIdCounter.setValue();var o=this.progressIdCounter.getValue().toString();this.tasks[o]=D(D({subActivity:""},e),{},{isFirstUpdate:!0,isComplete:!1,error:null,name:e.name?"".concat(t," - ").concat(e.name):t}),this.triggerEvent("OnProgressUpdated",this.getProgress()),this.logger.info("Registered task with progressId ".concat(o," and initialProgress ").concat(JSON.stringify(e)));var i=!1;return{registerTask:function(e){if(i)throw new Error("Task already registered");return i=!0,r.promises[o]=e.then((function(){r.tasks[o]={progressType:"Indefinite",name:"".concat(t," - Success"),subActivity:"",isFirstUpdate:!1,isComplete:!0,error:null},r.triggerEvent("OnProgressUpdated",r.getProgress()),n||r.clearTaskProgress(o),r.logger.info("Successfully finished task with progressId ".concat(o))})).catch((function(e){r.tasks[o]={progressType:"Indefinite",name:"".concat(t," - Failure"),subActivity:"",isFirstUpdate:!1,isComplete:!0,error:"string"==typeof e?e:e.message},r.triggerEvent("OnProgressUpdated",r.getProgress()),r.logger.error("Error finishing task with progressId ".concat(o," and error ").concat(JSON.stringify(e)))})),o},onProgressUpdate:function(e){if(r.closed)throw new Error("Task was cancelled");if(!r.tasks[o])throw new Error("Trying to update a non-existent progress");r.tasks[o].isComplete?r.logger.warning("Trying to update a complete progress, skipping..."):(r.logger.info("Got update ".concat(JSON.stringify(e))),r.tasks[o]=D(D({subActivity:""},e),{},{name:e.name?"".concat(t," - ").concat(e.name):t,isFirstUpdate:!1,isComplete:!1,error:null}),r.triggerEvent("OnProgressUpdated",r.getProgress()))}}}},{key:"waitForTasks",value:function(){return new Promise(function(e,t){return e(Promise.all(f.values(this.promises)))}.bind(this))}}],r&&T(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),j=r(28455),C=r(81566),N=r(42830);function F(e){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F(e)}function A(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}function _(e,t){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_(e,t)}function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=U(e);if(t){var o=U(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===F(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return x(e)}(this,r)}}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(e){return U=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},U(e)}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,H(n.key),n)}}function V(e,t,r){return t&&M(e.prototype,t),r&&M(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function G(e,t,r){return(t=H(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H(e){var t=function(e,t){if("object"!==F(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==F(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===F(t)?t:String(t)}var J=["emergency","alert","critical","error","warning","notice","info","debug","fine","finer","finest"],B=function(e){A(r,e);var t=L(r);function r(e,n){var o;return R(this,r),G(x(o=t.call(this)),"_name",void 0),G(x(o),"_dinfraLogger",void 0),G(x(o),"_isOpen",!0),o._name=e,o._dinfraLogger=n,o._isOpen=!0,o.once("close",(function(){o._isOpen=!1})),J.map((function(e){o._createLogFunction(e)})),o}return V(r,[{key:"getName",value:function(){return this._name}},{key:"close",value:function(){this.push(null),this.emit("close")}},{key:"_read",value:function(){}},{key:"_createLogFunction",value:function(e){var t=this;this[e]=function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t._isOpen&&(r+="\n",t._dinfraLogger[e]({name:t._name,message:r,tags:n}),r&&t.push(JSON.stringify({data:r,type:e,tags:n})))}}}]),r}(function(e){A(r,e);var t=L(r);function r(){var e;R(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return G(x(e=t.call.apply(t,[this].concat(o))),"emergency",(function(e){})),G(x(e),"alert",(function(e){})),G(x(e),"critical",(function(e){})),G(x(e),"error",(function(e){})),G(x(e),"warning",(function(e){})),G(x(e),"notice",(function(e){})),G(x(e),"info",(function(e){})),G(x(e),"debug",(function(e){})),G(x(e),"fine",(function(e){})),G(x(e),"finer",(function(e){})),G(x(e),"finest",(function(e){})),e}return V(r)}(N.Readable)),X=r(64508);function Y(e){return Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y(e)}function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?W(Object(r),!0).forEach((function(t){var n,o,i;n=e,o=t,i=r[t],(o=function(e){var t=function(e,t){if("object"!==Y(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Y(t)?t:String(t)}(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var K=r(85672);function $(e){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$(e)}function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(r),!0).forEach((function(t){ee(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Q(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,te(n.key),n)}}function ee(e,t,r){return(t=te(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function te(e){var t=function(e,t){if("object"!==$(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==$(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===$(t)?t:String(t)}var re=function(){function e(t){var r,n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ee(this,"options",void 0),ee(this,"ENTRY_MODULE_TYPE","EntryModuleDesktop"),ee(this,"emitter",new K.Z),ee(this,"progressManager",new S((function(e,t){n.emitter.emit(e,t)}),(r=q(q({},(0,C.Q8)(X.v,(function(){return function(){return{stamp:Date.now()}}}))),{},{setPriority:function(){return{stamp:Date.now()}}}),new B("MockLogger",r)))),ee(this,"installedPackages",void 0),ee(this,"installInfo",void 0),this.options=t,this.installedPackages=this.options.localPackages||[],this.installInfo=this.options.installInfo||[],this.emitter.on("OnInstallInfoUpdated",(function(e){n.installInfo=e})),this.emitter.on("OnInstalledPackagesUpdated",(function(t){n.installedPackages=e.sortInstalledPackages(t).map((function(e){return z(z({},e),{},{isInstallable:!0})}))}))}var t,r,n;return t=e,r=[{key:"init",value:function(){return new Promise((function(e,t){return e()}))}},{key:"onClose",value:function(){return new Promise((function(e,t){return e()}))}},{key:"getEntryModuleType",value:function(){return new Promise(function(e,t){return e(this.ENTRY_MODULE_TYPE)}.bind(this))}},{key:"getCCSEclipseInitValues",value:function(){return new Promise((function(e,t){return e({ccsPort:0,httpProxy:"",httpsProxy:""})}))}},{key:"addListener",value:function(e,t){this.emitter.on(e,t)}},{key:"removeListener",value:function(e,t){this.emitter.off(e,t)}},{key:"getPackageInstallInfo",value:function(){return new Promise(function(e,t){return this.handleEvent("OnInstallInfoUpdated"),e(this.installInfo)}.bind(this))}},{key:"getInstalledPackages",value:function(){return new Promise(function(t,r){return this.handleEvent("OnInstalledPackagesUpdated"),t(e.sortInstalledPackages(this.installedPackages).map((function(e){return z(z({},e),{},{isInstallable:!0})})))}.bind(this))}},{key:"getAgentMode",value:function(){return new Promise(function(e,t){return e(this.options.agentMode||"desktop")}.bind(this))}},{key:"getProgress",value:function(){return new Promise(function(e,t){return e(this.progressManager.getProgress())}.bind(this))}},{key:"getVersion",value:function(){return new Promise((function(e,t){return e("4.8.0")}))}},{key:"clearTaskProgress",value:function(e){return new Promise(function(t,r){return t(this.progressManager.clearTaskProgress(e))}.bind(this))}},{key:"installPackage",value:function(t,r){return new Promise(function(n,o){var i=this;return n((0,this.progressManager.createProgressTask({progressType:"Indefinite"},"Installing ".concat(t.packagePublicUid)).registerTask)((0,d.g)(e.DELAY).then((function(){var e=i.installedPackages.concat((0,j.Fr)(t,r));i.emitter.emit("OnInstalledPackagesUpdated",e)}))))}.bind(this))}},{key:"uninstallPackage",value:function(t){return new Promise(function(r,n){var o=this;return r((0,this.progressManager.createProgressTask({progressType:"Indefinite"},"Removing ".concat(t.packagePublicUid)).registerTask)((0,d.g)(e.DELAY).then((function(){var e=o.installedPackages.filter((function(e){return e.packagePublicId===t.packagePublicUid}));o.emitter.emit("OnInstalledPackagesUpdated",e)}))))}.bind(this))}},{key:"importProject",value:function(t,r){return new Promise((function(t,r){return Promise.resolve((0,d.g)(e.DELAY)).then((function(e){try{return t()}catch(e){return r(e)}}),r)}))}},{key:"openExternally",value:function(t){return new Promise((function(t,r){return Promise.resolve((0,d.g)(e.DELAY)).then((function(e){try{return t()}catch(e){return r(e)}}),r)}))}},{key:"onProductsChanged",value:function(){return new Promise((function(e,t){return e()}))}},{key:"getBoardAndDeviceInfo",value:function(){return new Promise((function(e,t){return e({devices:[],boards:[]})}))}},{key:"getInstallInfoForPackageDependencies",value:function(e,t){return new Promise((function(e,t){return e([])}))}},{key:"getInstallInfoForPackages",value:function(e){return new Promise((function(e,t){return e([])}))}},{key:"_addProgressTask",value:function(){return new Promise(function(e,t){return e(this.progressManager.createProgressTask({progressType:"Indefinite"},"Test progress").registerTask)}.bind(this))}},{key:"handleEvent",value:function(e){var t=this,r=this.options.tirexTriggerEvents&&this.options.tirexTriggerEvents[e];if(r){var n=r.data,o=r.delay;setTimeout((function(){t.emitter.emit(e,n)}),o)}}}],n=[{key:"sortInstalledPackages",value:function(e){return(0,C.FT)(e,"packagePublicId","packageVersion")}}],r&&Q(t.prototype,r),n&&Q(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();ee(re,"DELAY",2e3);var ne,oe=r(59945);function ie(e){return ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ie(e)}function ae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ue(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,le(n.key),n)}}function se(e,t,r){return t&&ue(e.prototype,t),r&&ue(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ce(e,t,r){return(t=le(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function le(e){var t=function(e,t){if("object"!==ie(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==ie(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ie(t)?t:String(t)}var fe={title:"TI Cloud Agent Setup",detailsLink:{text:"What's this?",url:"http://processors.wiki.ti.com/index.php/TI_Cloud_Agent#What_is_it.3F"},helpLink:{text:"Help. I already did this",url:"http://processors.wiki.ti.com/index.php/TI_Cloud_Agent#Troubleshooting"},finishStep:{description:"Refresh the current browser page",action:{text:"$Refresh$ Page",handler:function(){}}},initialMessage:{description:"Install TI Cloud Agent to enable flashing.",action:{text:"Install TI Cloud Agent to enable flashing."}},description:"Hardware interaction requires additional one time set up. Please perform the actions listed below and try your operation again.",steps:[{description:"Install the TI Cloud Agent browser extension.",action:{text:"$Install$ browser extension",handler:function(){}}},{description:"Download and install the TI Cloud Agent host application.",action:{text:"$Download$ and install the TI Cloud Agent Application",handler:function(){}}}]},de=function(){function e(t){ae(this,e),ce(this,"options",void 0),ce(this,"subModules",{}),this.options=t}return se(e,[{key:"getSubModule",value:function(e){return new Promise(function(t,r){if(this.options.errorGetSubModule)return r(new Error("host communication error"));var n,o;if("DeviceDetector"===e)n=this.subModules[e]||new P(this.options);else{if("Tirex"!==e)return r(new Error("Unknown Module"));n=this.subModules[e]||new re(this.options)}return!this.subModules[e]&&n instanceof re&&(o=n,ne={ENTRY_MODULE_TYPE:l.rV(o,"ENTRY_MODULE_TYPE"),init:l.rV(o,"init"),onClose:l.rV(o,"onClose"),getEntryModuleType:l.rV(o,"getEntryModuleType"),getCCSEclipseInitValues:l.rV(o,"getCCSEclipseInitValues"),addListener:l.rV(o,"addListener"),removeListener:l.rV(o,"removeListener"),getPackageInstallInfo:l.rV(o,"getPackageInstallInfo"),getInstalledPackages:l.rV(o,"getInstalledPackages"),getAgentMode:l.rV(o,"getAgentMode"),getProgress:l.rV(o,"getProgress"),getVersion:l.rV(o,"getVersion"),clearTaskProgress:l.rV(o,"clearTaskProgress"),installPackage:l.rV(o,"installPackage"),uninstallPackage:l.rV(o,"uninstallPackage"),importProject:l.rV(o,"importProject"),openExternally:l.rV(o,"openExternally"),onProductsChanged:l.rV(o,"onProductsChanged"),getBoardAndDeviceInfo:l.rV(o,"getBoardAndDeviceInfo"),getInstallInfoForPackageDependencies:l.rV(o,"getInstallInfoForPackageDependencies"),getInstallInfoForPackages:l.rV(o,"getInstallInfoForPackages"),_addProgressTask:l.rV(o,"_addProgressTask")}),this.subModules[e]=this.subModules[e]||n,t(n)}.bind(this))}}]),e}(),pe=function(){function e(t){ae(this,e),ce(this,"options",void 0),ce(this,"Install",{getInstallWizard:function(){return new Promise((function(e,t){return e(fe)}))}}),ce(this,"agent",null),this.options=t}return se(e,[{key:"Init",value:function(){return new Promise(function(e,t){return this.options.agentNotInstalled?t(new Error("agent not installed")):(this.agent=this.agent||new de(this.options),this.agent?e(this.agent):t(new Error("Agent is null")))}.bind(this))}}]),e}();function ye(e){var t=new pe(e);return(0,oe.L6)()?window.TICloudAgent=t:r.g.TICloudAgent=t,t}function ve(){(0,oe.L6)()?delete window.TICloudAgent:delete r.g.TICloudAgent,(0,oe.Nf)()}function ge(){if(!ne)throw new Error("Tried to call getRexCloudAgentModuleSpies before submodule was created");return(0,C.cL)((0,C.Zt)(ne).map((function(e){var t=ne[e];return{key:e,value:{callCount:t.callCount,args:t.args}}})))}function be(){if(!ne)throw new Error("Tried to call getRexCloudAgentModuleSpies before submodule was created");return ne}var me=r(67294),he=r(47591),Pe=r(1677),we=r(68911),Ie=r(74757),ke=r(54855),De=r(63635),Te=r(68827);function Oe(e){return Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oe(e)}function Ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Se(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(r),!0).forEach((function(t){var n,o,i;n=e,o=t,i=r[t],(o=function(e){var t=function(e,t){if("object"!==Oe(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Oe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Oe(t)?t:String(t)}(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var je={length:0,action:"PUSH",location:{pathname:"",search:"",state:"",hash:""},push:function(){},replace:function(){},go:function(){},goBack:function(){},goForward:function(){},block:function(){return function(){}},listen:function(){return function(){}},createHref:function(){return""}};function Ce(e){return new Promise((function(t,r){var n,o,i,a,u;return n=e.page,o=e.urlQuery,i=new he.M,a={apis:i,autoDetect:new Ie.X,history:Se({},je),localApis:new De.d({current:null}),mountComponentTemporarily:new Te.W,nodesState:new we.J,page:n,tourState:new ke.V,urlQuery:o,errorCallback:me.useRef(null)},Promise.resolve((0,Pe.W5)(a,null)).then((function(e){try{return(u=e)?t((0,Pe.zs)(a,u)):r(new Error("state expected"))}catch(e){return r(e)}}),r)}))}function Ne(e){return Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ne(e)}function Fe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xe(n.key),n)}}function _e(e,t,r){return t&&Ae(e.prototype,t),r&&Ae(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Le(e,t,r){return(t=xe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xe(e){var t=function(e,t){if("object"!==Ne(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Ne(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Ne(t)?t:String(t)}var Ue=Promise,Re=Promise.name;function Me(e){if(Promise.name!==Re)throw new Error("global Promise was not restored, got ".concat(Promise.name," as the name but wanted ").concat(Re));return Ue=Promise,function(){function t(r){Fe(this,t),Le(this,"promise",void 0);var n=e.getPromiseIndex(),o=!1,i=function(){o||(e.deregisterPromise(n),o=!0)};this.promise=new Ue((function(t,o){e.registerPromise(n);try{return r((function(e){i(),e?t(e):t()}),(function(e){i(),o(e)}))}catch(e){throw i(),e}}))}return _e(t,[{key:"then",value:function(e,t){return this.promise.then(e,t)}},{key:"catch",value:function(e){return this.promise.catch(e)}}],[{key:"resolve",value:function(e){return Ue.resolve(e)}},{key:"reject",value:function(e){return Ue.reject(e)}},{key:"all",value:function(e){return Ue.all(e)}},{key:"race",value:function(e){return Ue.race(e)}}]),t}()}function Ve(){He(),Promise=Ue}var Ge=function(){function e(){Fe(this,e),Le(this,"activePromises",{}),Le(this,"emitter",new K.Z),Le(this,"pendingCount",0),Le(this,"promiseIndex",new w.A)}return _e(e,[{key:"getActivePromises",value:function(){return this.activePromises}},{key:"getPromiseIndex",value:function(){var e=this.promiseIndex.getValue();return this.promiseIndex.setValue(),e}},{key:"registerPromise",value:function(e){this.activePromises[e]=function(){var e;try{throw new Error("")}catch(t){e=t.stack||""}var t=e.split("\n").map((function(e){return e.trim()}));return t.slice("Error"===t[0]?1:0)}(),this.pendingCount++}},{key:"deregisterPromise",value:function(e){delete this.activePromises[e],this.pendingCount--,0===this.pendingCount&&this.emitter.emit("onClear")}},{key:"onClear",value:function(){var e=this;return He(),0===this.pendingCount?Ue.resolve():new Ue((function(t){e.emitter.once("onClear",(function(){t()}))}))}}]),e}();function He(){if(Ue.name!==Re)throw new Error("OriginalPromise is not the native Promise got ".concat(Ue.name," as the name but wanted ").concat(Re))}var Je=null;function Be(e){return new Promise((function(t,r){Xe(e,(function(e){e?r(e):t()}))}))}function Xe(e,t){try{if(!Je)throw new Error("No tracker");!function(){if(!Je)throw new Error("No tracker");if((0,oe.L6)()){var e=Je.getActivePromises(),t=Object.keys(e),r=t.length;if(0!==r){for(var n="".concat(r," active ").concat(r>1?"promises":"promise",":\n"),o=0,i=t;o<i.length;o++){var a=i[o],u=e[a].map((function(e){return"\t".concat(e)})).join("\n");n+="Promise ".concat(a,":\n").concat(u,"\n")}console.log(n)}else console.log("No active promises.")}}();var r=setInterval((function(){if(Je){if(f.isEmpty(f.intersection(Object.keys(Je.getActivePromises()),e)))clearInterval(r),t();else if((0,oe.L6)()){var n=f.intersection(Object.keys(Je.getActivePromises()),e);console.log("active ",n)}}else t(new Error("No tracker"))}),100)}catch(e){setImmediate(t,e)}}function Ye(){if(Je)throw new Error("Tracker not cleared before calling setup");Je=new Ge,Promise=Me(Je)}function We(){Je=null,Ve()}function qe(){if(!Je)throw new Error("No tracker");return Object.keys(Je.getActivePromises())}var Ke=r(14779),$e=r(17563),Ze=r(21743),ze=r(64195),Qe=r(6687);function et(e){return et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},et(e)}var tt,rt=["icon"],nt=["icon"];function ot(e,t){if(e){if("string"==typeof e)return it(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?it(e,t):void 0}}function it(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function at(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ut(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?at(Object(r),!0).forEach((function(t){var n,o,i;n=e,o=t,i=r[t],(o=function(e){var t=function(e,t){if("object"!==et(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==et(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===et(t)?t:String(t)}(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):at(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function st(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function ct(e){var t,r,n,o,i,a=e.inputType===tt.InputType.FILTER_DATA_ONLY?{}:e.hierarchy,u=e.inputType===tt.InputType.TABLE_ITEM_DATA?e.tableItemHierarchy:{},s=e.inputType===tt.InputType.FILTER_DATA_ONLY?"0":e.rootNode,c=e.inputType===tt.InputType.FILTER_DATA_ONLY?s:e.softwareNodePublicId||s;if(e.inputType===tt.InputType.NODE_DATA||e.inputType===tt.InputType.TABLE_ITEM_DATA){var l=function(e){var t=e.nodeData,r=e.rootNode,n=e.hierarchy,o=Object.keys(t).map((function(o){var i=t[o],a=i.name,u=i.nodePublicId,s=i.descriptor,c=s.icon,l=st(s,rt),f=i.contentType,d=i.packagePublicUid,p=i.packageGroupPublicUid,y=i.filterData,v=lt(o,n,r);if(!v)throw new Error("Cannot get path for node id ".concat(o));v.shift();var g,b={nodeDbId:o,nodePublicId:u,name:a,descriptor:ut(ut({},l),{},{icon:c||"Folder",hasChildren:!!e.hierarchy[o]&&e.hierarchy[o].length>0}),contentType:f,packagePublicUid:d,packageGroupPublicUid:p},m={nodeDbId:o,nodeDbIdPath:v},h={nodeDbId:o,filterData:y};if(i.nodeType===Qe.U.NodeType.FOLDER_NODE){var P=i.overview,w=Qe.U.NodeType.FOLDER_NODE;g={node:ut(ut({},b),{},{nodeType:w}),nodeDataExtended:ut(ut({},m),{},{nodeType:w,overview:P}),nodeFilterData:ut(ut({},h),{},{nodeType:i.nodeType})}}else if(i.nodeType===Qe.U.NodeType.FOLDER_WITH_HIDDEN_RESOURCE_NODE){var I=i.overview,k=Qe.U.NodeType.FOLDER_WITH_HIDDEN_RESOURCE_NODE;g={node:ut(ut({},b),{},{nodeType:k}),nodeDataExtended:ut(ut({},m),{},{nodeType:k,overview:I}),nodeFilterData:ut(ut({},h),{},{nodeType:k})}}else if(i.nodeType===Qe.U.NodeType.LEAF_NODE){var D=i.description,T=i.link,O=Qe.U.NodeType.LEAF_NODE;c||(b.descriptor.icon="File"),g={node:ut(ut({},b),{},{nodeType:O}),nodeDataExtended:ut(ut({},m),{},{nodeType:O,description:D,link:T,linkType:"Internal"}),nodeFilterData:ut(ut({},h),{},{nodeType:O})}}else{if(i.nodeType!==Qe.U.NodeType.PACKAGE_FOLDER_NODE)throw new Error("Unknown node type for node ".concat(i));var E=i.packagePublicUid,S=i.overview,j=Qe.U.NodeType.PACKAGE_FOLDER_NODE;c||(b.descriptor.icon="Package"),g={node:ut(ut({},b),{},{nodeType:j,packagePublicUid:E}),nodeDataExtended:ut(ut({},m),{},{nodeType:j,overview:S}),nodeFilterData:ut(ut({},h),{},{nodeType:j})}}return g})).reduce((function(e,t){var r=t.node,n=t.nodeDataExtended,o=t.nodeFilterData;return e.nodeData[r.nodeDbId]=r,e.nodeDataExtended[r.nodeDbId]=n,e.nodeFilterData[r.nodeDbId]=o,e}),{nodeData:{},nodeDataExtended:{},nodeFilterData:{}});return o.nodeData[r]={nodeDbId:r,nodePublicId:"public"+r,descriptor:{hasChildren:!!e.hierarchy[r]&&e.hierarchy[r].length>0,icon:"Folder",isDownloadable:!1},nodeType:Qe.U.NodeType.FOLDER_NODE,name:"root",contentType:"Other",packagePublicUid:null,packageGroupPublicUid:null},o.nodeDataExtended[r]={nodeDbId:r,nodeDbIdPath:[r],nodeType:Qe.U.NodeType.FOLDER_NODE},o.nodeFilterData[r]={nodeDbId:r,nodeType:Qe.U.NodeType.FOLDER_NODE,filterData:{filterPackageGroup:[]}},o}(e);t=l.nodeData,r=l.nodeDataExtended,n=l.nodeFilterData}else t={},r={},n={};if(e.inputType===tt.InputType.TABLE_ITEM_DATA){var d=function(e){var t=e.tableItemData,r=Object.keys(t).map((function(r){var n=t[r],o=n.name,i=n.tableItemNodeDbId,a=n.descriptor,u=a.icon,s=st(a,nt),c=n.filterData,l=n.variants,f=n.resourceSubClass,d=void 0===f?"example.general":f,p=n.packageName,y=void 0===p?"Placeholder package name":p,v={};return l.forEach((function(e){var t=e.variant,r=e.nodeDbId;v[(0,oe.qd)(t)]=r})),{tableItemData:{tableItemDbId:r,name:o,descriptor:ut(ut({},s),{},{icon:u||"Folder",hasChildren:!!e.tableItemHierarchy[r]&&e.tableItemHierarchy[r].length>0}),categoryContext:"",resourceSubClass:d,packageName:y,variants:l.map((function(e){return e.variant}))},tableItemFilterData:{tableItemDbId:r,tableItemNodeDbId:i,filterData:c,variants:v}}})).reduce((function(e,t){var r=t.tableItemData,n=t.tableItemFilterData;return e.tableItemData[r.tableItemDbId]=r,e.tableItemFilterData[r.tableItemDbId]=n,e}),{tableItemData:{},tableItemFilterData:{}});return r}(e);o=d.tableItemData,i=d.tableItemFilterData}else o={},i={};var p,y={compilers:e.filterData?e.filterData.compilers:[],devices:e.filterData?e.filterData.devices:[],devtools:e.filterData?e.filterData.devtools:[],ides:e.filterData?e.filterData.ides:[],kernels:e.filterData?e.filterData.kernels:[],resourceClasses:e.filterData?e.filterData.resourceClasses:[],languages:e.filterData?e.filterData.languages:[],packageGroups:e.filterData?f.chain(e.filterData.packages).map((function(e){return e.packageGroupPublicUids.map((function(e){return{publicId:e,name:"Group name placeholder"}}))})).flatten().uniqBy("publicId").value():[]},v=function(e){return(0,C.FT)(e,"packagePublicId","packageVersion")}(e.filterData?e.filterData.packages:[]),g=(p=e.filterData&&e.filterData.packageGroups?e.filterData.packageGroups:function(e){var t={};e.forEach((function(e){e.packageGroupPublicUids.forEach((function(r){var n;t[r]=[].concat(function(e){if(Array.isArray(e))return it(e)}(n=t[r]||[])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||ot(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[e.packagePublicUid])}))}));var r=1,n=1;return Object.entries(t).map((function(t){var o,i,a=(i=2,function(e){if(Array.isArray(e))return e}(o=t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,u=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(o,i)||ot(o,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=a[0],s=a[1],c=e.find((function(e){return s.includes(e.packagePublicUid)&&"MainPackage"===e.packageType}));if(!c)throw new Error("No main package for group");return{packageGroupVersion:(r++).toString(),packageGroupPublicId:(n++).toString(),packageGroupPublicUid:u,packagesPublicUids:s,mainPackagePublicUid:c.packagePublicUid,hideByDefault:!1,packagesToListVersionsFrom:[]}}))}(v),(0,C.FT)(p,"packageGroupPublicId","packageGroupVersion"));return{filterData:y,packages:v,packageGroups:g,rootNode:s,softwareNodePublicId:c,hierarchy:a,nodeData:t,nodeDataExtended:r,nodeFilterData:n,sessionId:"testSessionId",rex3Links:e.rex3Links||{},tableItemData:o,tableItemFilterData:i,tableItemHierarchy:u}}function lt(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(e===r)return n.concat(e);var o=t[r],i=!!o&&o.map((function(o){return lt(e,t,o,n.concat(r))})).filter((function(e){return!!e}));return!!i&&1===i.length&&i[0]}function ft(e,t){e instanceof Ze.F7?t.respond(parseInt(e.statusCode),{},yt(e)):t.respond(500,{},yt(e))}function dt(e){var t={filterPackageGroup:[]};return(0,C.Zt)(e).map((function(r){switch(r){case"filterSearch":t[r]=e[r];break;case"filterDevice":case"filterDevtool":case"filterPackageGroup":case"filterCompiler":case"filterIde":case"filterKernel":case"filterLanguage":case"filterResourceClass":case"filterNode":t[r]=(0,ze.Z)(e[r]||[]);break;default:(0,C.vE)(r)}})),t}function pt(e){var t=e.split("?");return $e.Qc(2===t.length?t[1]:"")}function yt(e){return"string"==typeof e?e:f.includes(e.stack||"",e.message||"")?e.stack||"":"".concat(e.message||"","\n").concat(e.stack||"")}!function(e){var t;(t=e.InputType||(e.InputType={})).FILTER_DATA_ONLY="FilterDataOnly",t.NODE_DATA="NodeData",t.TABLE_ITEM_DATA="TableItemData"}(tt||(tt={}));var vt=r(34155);function gt(){return vt.hrtime()}function bt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;return Number((1e3*vt.hrtime(e)[0]+1e-6*vt.hrtime(e)[1]).toPrecision(t))}var mt=r(32757),ht=r(6495),Pt=r(77960);mt.use(ht),mt.use(Pt);var wt=mt;function It(e,t){e.setEncoding("binary"),e.on("data",(function(e){})),e.on("error",t),e.on("end",(function(){t(null,{})}))}function kt(e){return kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kt(e)}function Dt(e){return function(e){if(Array.isArray(e))return Tt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Tt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Tt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ot(e){if(null==e)throw new TypeError("Cannot destructure "+e)}function Et(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jt(n.key),n)}}function St(e,t,r){return(t=jt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jt(e){var t=function(e,t){if("object"!==kt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==kt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===kt(t)?t:String(t)}mt.expect;var Ct,Nt=function(){function e(t){var r=t.mode,n=t.role;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),St(this,"mode",void 0),St(this,"role",void 0),this.mode=r,this.role=n}var t,r,n;return t=e,r=[{key:"getNodes",value:function(t){var r=t.ids,n=t.data;if(r.includes(n.rootNode)||!e.isValidArrayParam(r))throw new Ze.F7("Client Error","400");var o=r.map((function(e){return n.nodeData[e]||null}));if(o.includes(null))throw new Ze.F7("Not Found","404");var i=o.reduce((function(e,t){return e.dbIdToData[t.nodeDbId]=t,e}),{dbIdToData:{}});return e.asPayload(i,n)}},{key:"getNodesExtended",value:function(t){var r=t.id,n=t.data;if(!r||r===n.rootNode)throw new Ze.F7("Client Error","400");var o=n.nodeDataExtended[r]||null;if(!o)throw new Ze.F7("Not Found","404");return e.asPayload({dbIdToChildExtData:St({},r,o)},n)}},{key:"getFilteredChildrenNodeIds",value:function(t){var r=t.parentIds,n=t.data,o=t.filter;if(!e.isValidArrayParam(r))throw new Ze.F7("Client Error","400");var i=r.map((function(t){var r=n.hierarchy[t];if(!r)throw new Ze.F7("Not Found","404");var i=r.filter((function(t){return e.filterNode(t,n,o)}));return{parentId:t,childrenNodeIds:i}})).reduce((function(e,t){var r=t.parentId,n=t.childrenNodeIds;return e.parentToChildDbId[r]=n,e}),{parentToChildDbId:{}});return e.asPayload(i,n)}},{key:"getExpandedFilteredDescendantNodesData",value:function(t){var r=t.parentId,n=t.data,o=t.filter;if(!r)throw new Ze.F7("Client Error","400");for(var i=this.getSingleNodePath({parentId:r,data:n,filter:o}),a={parentToChildData:{}},u=0;u<i.length-1;u++)a.parentToChildData[i[u].nodeDbId]=[i[u+1]];var s=f.isEmpty(i)?n.nodeData[r]:i[i.length-1];if(s.descriptor.hasChildren){var c=this.getFilteredChildrenNodeIds({parentIds:[s.nodeDbId],data:n,filter:o}).payload.parentToChildDbId[s.nodeDbId];f.isEmpty(c)||(a.parentToChildData[s.nodeDbId]=c.map((function(e){return n.nodeData[e]})))}return e.asPayload(a,n)}},{key:"getFilteredTableItemsData",value:function(t){var r=t.parentNodeDbId,n=t.data,o=t.filter,i=Object.values(n.tableItemFilterData).find((function(e){return e.tableItemNodeDbId===r}));if(!i)throw new Ze.F7("Not found","404");var a=n.tableItemHierarchy[i.tableItemDbId];if(!a)throw new Ze.F7("Not found","404");var u=a.filter((function(t){return e.filterTableItem(t,n,o)})).map((function(e){var t=n.tableItemData[e];if(!t)throw new Ze.F7("Not found","404");return t}));return e.asPayload({parentToChildDbId:St({},r,u)},n)}},{key:"getNodeDataForTableItemVariant",value:function(e){var t=e.tableItemDbId,r=e.variantCompiler,n=e.variantKernel,o=e.data,i=o.tableItemFilterData[t];if(!i)throw new Ze.F7("Not Found","404");var a=(0,oe.qd)({compiler:r,kernel:n}),u=i.variants[a];if(!u)throw new Ze.F7("Variant not found ".concat(a),"404");return this.getNodes({ids:[u],data:o})}},{key:"getSearchSuggestions",value:function(t){var r=t.text,n=t.data,o=f.flatten((0,C.Zt)(n.filterData).map((function(e){return n.filterData[e].filter((function(e){return e.name.includes(r)})).map((function(e){return e.name}))})));return e.asPayload(o,n)}},{key:"getNodeDownload",value:function(e){throw Ot(e),new Ze.F7("Not implemented","500")}},{key:"getImportProject",value:function(e){throw Ot(e),new Ze.F7("Not implemented","500")}},{key:"getImportInfo",value:function(t){var r=t.id,n=t.data,o=t.filter;if(!n.nodeFilterData[r])throw new Ze.F7("Not found","404");var i=n.nodeFilterData[r].filterData,a=o.filterDevice&&!f.isEmpty(o.filterDevice)?f.intersection(i.filterDevice||[],o.filterDevice):i.filterDevice||[],u=o.filterDevtool&&!f.isEmpty(o.filterDevtool)?f.intersection(i.filterDevtool||[],o.filterDevtool):i.filterDevtool||[];return e.asPayload({targets:[].concat(Dt(a),Dt(u)),location:"".concat(r,"/some/path"),projectType:"project.ccs"},n)}},{key:"getServerConfig",value:function(t){var r=t.data;return e.asPayload({mode:this.mode,role:this.role,rootNodeDbId:r.rootNode,softwareNodePublicId:r.softwareNodePublicId,version:"1.0.0",offline:!1},r)}},{key:"getRootNode",value:function(t){var r=t.data;return e.asPayload(r.rootNode,r)}},{key:"getPackages",value:function(t){var r=t.data;return e.asPayload(r.packages,r)}},{key:"getPackageGroups",value:function(t){var r=t.data;return e.asPayload(r.packageGroups,r)}},{key:"getFilterOptions",value:function(t){var r=t.data;return e.asPayload(r.filterData,r)}},{key:"getNodePublicIdToDbId",value:function(t){var r=t.nodePublicId,n=t.packageGroupPublicUid,o=t.data;if(n){var i=Object.values(o.nodeData).find((function(e){return e.nodePublicId===r&&e.packageGroupPublicUid===n})),a=o.packageGroups.find((function(e){return e.packageGroupPublicUid===n}));if(!i||!a)throw new Ze.F7("Not found","404");return e.asPayload(i.nodeDbId,o)}var u=Object.values(o.nodeData).find((function(e){return e.nodePublicId===r}));if(!u)throw new Ze.F7("Not found","404");if(u.packageGroupPublicUid)throw new Ze.F7("Node has a group wtih uid ".concat(u.packageGroupPublicUid),"400");return e.asPayload(u.nodeDbId,o)}},{key:"getRex3LinkToDbId",value:function(t){var r=t.linkField,n=t.data,o=n.rex3Links[r];if(!o)throw new Ze.F7("Not found","404");return e.asPayload(o,n)}},{key:"getSingleNodePath",value:function(e){var t=e.parentId,r=e.data,n=e.filter,o=e.accum,i=void 0===o?[]:o,a=r.nodeData[t];if(a){i=i.concat(a);var u=a.descriptor.hasChildren&&this.getFilteredChildrenNodeIds({parentIds:[t],data:r,filter:n}).payload.parentToChildDbId[t];return u&&1===u.length?this.getSingleNodePath({parentId:u[0],data:r,filter:n,accum:i}):i}throw new Ze.F7("Not Found","404")}}],n=[{key:"asPayload",value:function(e,t){return{payload:e,sideBand:{sessionId:t.sessionId}}}},{key:"isValidArrayParam",value:function(e){return e.length>0&&!(1===e.length&&!e[0])}},{key:"filterNode",value:function(t,r,n){var o=r.nodeData[t],i=r.nodeFilterData[t];if(o){if(e.passesFilter(i.filterData,n,i.nodeType))return!0;var a=r.hierarchy[o.nodeDbId],u=!!a&&a.map((function(t){return e.filterNode(t,r,n)})).reduce((function(e,t){return e||t}),!1);return u}return!1}},{key:"filterTableItem",value:function(t,r,n){var o=r.tableItemData[t],i=r.tableItemFilterData[t];if(o){if(e.passesFilter(i.filterData,n,null))return!0;var a=r.hierarchy[o.tableItemDbId],u=!!a&&a.map((function(t){return e.filterNode(t,r,n)})).reduce((function(e,t){return e||t}),!1);return u}return!1}},{key:"passesFilter",value:function(e,t,r){var n=e.filterDevice,o=e.filterDevtool,i=e.filterPackageGroup,a=e.filterSearch,u=e.filterCompiler,s=e.filterKernel,c=e.filterIde,l=e.filterLanguage,d=e.filterResourceClass,p=t.filterDevice,y=t.filterDevtool,v=t.filterPackageGroup,g=t.filterSearch,b=t.filterNode,m=t.filterCompiler,h=t.filterKernel,P=t.filterIde,w=t.filterLanguage,I=t.filterResourceClass,k=!0;return[{filters:p,items:n},{filters:y,items:o},{filters:m,items:u},{filters:h,items:s},{filters:P,items:c},{filters:w,itemss:l},{filters:I,items:d}].forEach((function(e){var t=e.filters,r=e.items;f.isEmpty(t)||(k=k&&!!t&&!!r&&!!r.find((function(e){return!!t.find((function(t){return t===e}))})))})),f.isEmpty(i)||(k=k&&!!i&&!!i.find((function(e){return!!v.find((function(t){return t===e}))}))),g&&(k=k&&!!a&&a===g),!f.isEmpty(b)&&r&&(k=k&&!!b&&!!b.find((function(e){return e===r}))),k}}],r&&Et(t.prototype,r),n&&Et(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ft(e){return Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ft(e)}function At(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Lt(n.key),n)}}function _t(e,t,r){return(t=Lt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lt(e){var t=function(e,t){if("object"!==Ft(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Ft(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Ft(t)?t:String(t)}!function(e){e.PROXY_SERVER="proxyServer",e.FAKE_SERVER="fakeServer"}(Ct||(Ct={}));var xt=function(){function e(t){var n=this,o=t.serverType,i=t.mode,a=void 0===i?"remoteserver":i,u=t.role,s=void 0===u?"":u;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),_t(this,"getElementByIdStub",void 0),_t(this,"setupTestCalled",!1),_t(this,"serverMode",void 0),_t(this,"fakeXML",void 0),_t(this,"server",void 0),_t(this,"serverHarness",void 0),_t(this,"serverHarnessInner",void 0);var c=r.g.XMLHttpRequest;this.server=l.BX.create(),this.fakeXML=l.gj(),r.g.XMLHttpRequest=c,this.serverMode=o,this.serverHarness=function(){return n.serverHarnessInner||(n.serverHarnessInner=new Nt({mode:a,role:s})),n.serverHarnessInner}}var t,n;return t=e,n=[{key:"setupTestFakeServer",value:function(e){var t=this;if(this.serverMode===Ct.FAKE_SERVER){if(this.fakeXML.useFilters=!0,this.fakeXML.addFilter((function(e,t){return/^(?!api).*/.test(t)})),!(0,oe.L6)()&&!window)throw new Error("Need to setup window object");window.fakeXML=this.fakeXML;var r=function(e,t,r){var n=ct(t);return e.autoRespond=!0,e.respondWith("GET",Ke("api",void 0,{end:!1}),(function(e){var t=e.url.split("?")[0];Ke("api/nodesData").test(t)?function(e,t,r){var n=pt(e.url),o=(0,ze.Z)(n.dbId);try{var i=r.getNodes({ids:o,data:t});e.respond(200,{"Content-Type":"application/json"},JSON.stringify(i))}catch(t){ft(t,e)}}(e,n,r):Ke("api/nodeExtendedData").test(t)?function(e,t,r){var n=pt(e.url);try{var o=r.getNodesExtended({id:n.dbId,data:t});e.respond(200,{"Content-Type":"application/json"},JSON.stringify(o))}catch(t){ft(t,e)}}(e,n,r):Ke("api/filteredChildrenNodeIds").test(t)?function(e,t,r){var n=pt(e.url),o=(0,ze.Z)(n.parentDbId),i=dt(n);try{var a=r.getFilteredChildrenNodeIds({parentIds:o,filter:i,data:t});e.respond(200,{"Content-Type":"application/json"},JSON.stringify(a))}catch(t){ft(t,e)}}(e,n,r):Ke("api/expandedFilteredDescendantNodesData").test(t)?function(e,t,r){var n=pt(e.url),o=n.parentDbId,i=dt(n);try{var a=r.getExpandedFilteredDescendantNodesData({parentId:o,filter:i,data:t});e.respond(200,{"Content-Type":"application/json"},JSON.stringify(a))}catch(t){ft(t,e)}}(e,n,r):Ke("api/filteredTableItemsData").test(t)?function(e,t,r){var n=pt(e.url),o=n.parentDbId,i=dt(n);try{var a=r.getFilteredTableItemsData({parentNodeDbId:o,filter:i,data:t});e.respond(200,{"Content-Type":"application/json"},JSON.stringify(a))}catch(t){ft(t,e)}}(e,n,r):Ke("api/nodeDataForTableItemVariant").test(t)?function(e,t,r){var n=pt(e.url),o=n.tableItemDbId,i=n.variantCompiler,a=n.variantKernel;try{var u=r.getNodeDataForTableItemVariant({tableItemDbId:o,variantCompiler:i,variantKernel:a,data:t});e.respond(200,{"Content-Type":"application/json"},JSON.stringify(u))}catch(t){ft(t,e)}}(e,n,r):Ke("api/filterOptions").test(t)?function(e,t,r){try{var n=r.getFilterOptions({data:t});e.respond(200,{"Content-Type":"application/json"},JSON.stringify(n))}catch(t){ft(t,e)}}(e,n,r):Ke("api/rootNode").test(t)?function(e,t,r){try{var n=r.getRootNode({data:t});e.respond(200,{"Content-Type":"application/json"},JSON.stringify(n))}catch(t){ft(t,e)}}(e,n,r):Ke("api/searchSuggestions").test(t)?function(e,t,r){var n=pt(e.url),o=n.text,i=dt(n);try{var a=r.getSearchSuggestions({data:t,text:o,filter:i});e.respond(200,{"Content-Type":"application/json"},JSON.stringify(a))}catch(t){ft(t,e)}}(e,n,r):Ke("api/packages").test(t)?function(e,t,r){try{var n=r.getPackages({data:t});e.respond(200,{"Content-Type":"application/json"},JSON.stringify(n))}catch(t){ft(t,e)}}(e,n,r):Ke("api/packageGroups").test(t)?function(e,t,r){try{var n=r.getPackageGroups({data:t});e.respond(200,{"Content-Type":"application/json"},JSON.stringify(n))}catch(t){ft(t,e)}}(e,n,r):Ke("api/nodeDownload").test(t)?function(e,t,r){var n=pt(e.url).dbId;try{var o=r.getNodeDownload({data:t,dbId:n});e.respond(200,{"Content-Type":"application/json"},JSON.stringify(o))}catch(t){ft(t,e)}}(e,n,r):Ke("api/importProject").test(t)?function(e,t,r){var n=pt(e.url),o=n.location,i=n.projectType,a=n.targetId,u=n.projectName;try{var s=r.getImportProject({data:t,location:o,projectType:i,targetId:a,projectName:u});e.respond(200,{"Content-Type":"application/json"},JSON.stringify(s))}catch(t){ft(t,e)}}(e,n,r):Ke("api/importInfo").test(t)?function(e,t,r){var n=pt(e.url),o=dt(n);try{var i=r.getImportInfo({data:t,filter:o,id:n.dbId});e.respond(200,{"Content-Type":"application/json"},JSON.stringify(i))}catch(t){ft(t,e)}}(e,n,r):Ke("api/serverConfig").test(t)?function(e,t,r){try{var n=r.getServerConfig({data:t});e.respond(200,{"Content-Type":"application/json"},JSON.stringify(n))}catch(t){ft(t,e)}}(e,n,r):Ke("api/nodePublicIdToDbId").test(t)?function(e,t,r){var n=pt(e.url);try{if("ToDbIdNotLatest"===n.toDbIdType||"ToDbIdLatest"===n.toDbIdType){var o=r.getNodePublicIdToDbId({data:t,nodePublicId:n.nodePublicId,packageGroupPublicUid:n.packageGroupPublicUid});e.respond(200,{"Content-Type":"application/json"},JSON.stringify(o))}else{var i=r.getNodePublicIdToDbId({data:t,nodePublicId:n.nodePublicId,packageGroupPublicUid:null});e.respond(200,{"Content-Type":"application/json"},JSON.stringify(i))}}catch(t){ft(t,e)}}(e,n,r):Ke("api/rex3LinkToDbId").test(t)?function(e,t,r){var n=pt(e.url);try{var o=r.getRex3LinkToDbId({data:t,linkField:n.linkField});e.respond(200,{"Content-Type":"application/json"},JSON.stringify(o))}catch(t){ft(t,e)}}(e,n,r):e.respond(404,{},"Unhandled api ".concat(e.url))})),n}(this.server,e,this.serverHarness()),n=document.getElementById.bind(document);return this.getElementByIdStub=l.BM(document,"getElementById").callsFake((function(e){return"server-config"===e?{innerHTML:JSON.stringify(t.serverHarness().getServerConfig({data:r}).payload)}:n(e)})),this.setupTestCalled=!0,Promise.resolve()}return Promise.reject("Unable to set up fake server, AjaxHarness is configured for a proxy server.")}},{key:"setupTestProxyServer",value:function(e,t){if(this.serverMode===Ct.PROXY_SERVER){!function(e,t,r){function n(n,i){e.respondWith("GET",n,(function(n){return new Promise((function(a,u){var s,c,l;e.requests=[],s=gt();var f=function(){try{return a()}catch(e){return u(e)}},d=function(e){try{return o(e,n,s),f()}catch(e){return u(e)}};try{return n.readyState=4,c=wt.request(t).get(n.url),i&&(c=c.buffer().parse(It)),Promise.resolve(c).then((function(e){try{return l=e,r&&r(n.url,l,bt(s)),n.readyState=1,n.respond(l.status,l.header,JSON.stringify(l.body)),f()}catch(e){return d(e)}}),d)}catch(e){d(e)}}))}))}function o(e,t,n){r&&r(t.url,e,bt(n)),t.readyState=XMLHttpRequest.OPENED,e.status&&t.respond(parseInt(e.status),{},e.message)}e.respondImmediately=!0,n(/^api.*/,!1),n(/^content.*/,!0),e.respondWith("GET",/^(?!api)(?!content).*/,(function(e){o(new Error("unknown url: ".concat(e.url)),e,gt())}))}(this.server,e,t);var r=document.getElementById.bind(document);return this.getElementByIdStub=l.BM(document,"getElementById").callsFake((function(e){if("server-config"===e)throw new Error("Getting server config from real server not implmemented");return r(e)})),this.setupTestCalled=!0,Promise.resolve()}return Promise.reject("Unable to set up proxy server, AjaxHarness is configured for a fake server.")}},{key:"getRequests",value:function(){return this.server.requests}},{key:"cleanup",value:function(){if(this.cleanupWithoutSetupTest(),!this.setupTestCalled)throw new Error("Never called setupTest");this.cleanupWithSetupTest()}},{key:"cleanupWithoutSetupTest",value:function(){this.server.restore(),window.fakeXML=null}},{key:"cleanupWithSetupTest",value:function(){this.getElementByIdStub.restore()}}],n&&At(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Ut=null;function Rt(e,t){return new Promise((function(r,n){return Ut?n(new Error("AjaxHarness not cleared before calling setup")):(Ut=new xt({serverType:Ct.FAKE_SERVER,role:""}),Promise.resolve(Ut.setupTestFakeServer(e)).then((function(e){try{return(0,oe.L6)()&&(window.initialPage=t),r()}catch(e){return n(e)}}),n))}))}function Mt(){Ut&&Ut.cleanup(),Ut=null}function Vt(){if(!Ut)throw new Error("trying to call getFakeServerRequests before calling setup");return Ut.getRequests()}function Gt(e){var t=window.appPropsInitial;if(!t)throw new Error("appProps not set");t.history.push(e)}function Ht(){var e=window.appPropsInitial;e&&(e.apis._getCacheInterface().clearCache(),e.localApis._clearCachedData(),e.autoDetect._reset(),e.mountComponentTemporarily._reset(),(0,oe.Nf)())}var Jt={MockAgent:n,CreateAppProps:o,GetPromiseReplacement:i,PromiseSyncronizationHelpers:a,FakeServerHelpers:u,UrlHelpers:s,ClearCaches:c}},5840:()=>{},56952:()=>{},24654:()=>{},52361:()=>{},94616:()=>{},63695:()=>{}}]);